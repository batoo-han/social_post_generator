# üîÑ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. `update.sh` / `update.bat` - –£–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç** –Ω—É–∂–Ω–∞ –ª–∏ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç backup (.env –∏ –ª–æ–≥–æ–≤)
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ Git
- ‚úÖ –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (rebuild –∏–ª–∏ restart)
- ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
- ‚úÖ –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ (–≤ update-smart.sh)
- ‚úÖ –û—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ backup

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

Linux/Mac:
```bash
./update.sh
```

Windows:
```bash
update.bat
```

---

### 2. `update-smart.sh` - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –≤–µ—Ä—Å–∏—è (—Ç–æ–ª—å–∫–æ Linux)

–ë–æ–ª–µ–µ —É–º–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å:
- –î–µ—Ç–∞–ª—å–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º Git –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∫–∞—Ç–æ–º –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
chmod +x update-smart.sh
./update-smart.sh
```

---

### 3. `docker-rebuild.sh` / `docker-rebuild.bat` - –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞

**–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è** –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –Ω—É–ª—è.

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Dockerfile
- –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –æ–±—Ä–∞–∑–æ–º
- –î–ª—è –æ—á–∏—Å—Ç–∫–∏ –æ—Ç –Ω–∞–∫–æ–ø–∏–≤—à–µ–≥–æ—Å—è –∫—ç—à–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

Linux/Mac:
```bash
chmod +x docker-rebuild.sh
./docker-rebuild.sh
```

Windows:
```bash
docker-rebuild.bat
```

---

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

| –°–∫—Ä–∏–ø—Ç | –ê–Ω–∞–ª–∏–∑ | Backup | –û—Ç–∫–∞—Ç | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|--------|--------|--------|-------|----------|-------------------|
| **update.sh** | ‚úÖ –î–∞ | ‚úÖ –î–∞ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | ‚ö° –ë—ã—Å—Ç—Ä–æ | –û–±—ã—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| **update-smart.sh** | ‚úÖ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ | ‚úÖ –î–∞ | ‚úÖ –ê–≤—Ç–æ | ‚ö° –ë—ã—Å—Ç—Ä–æ | –ü—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä |
| **docker-rebuild.sh** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ | –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–∑–æ–º |

---

## üéØ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —É–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```
–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤:
‚îú‚îÄ‚îÄ Dockerfile / docker-compose.yml
‚îÇ   ‚îî‚îÄ‚îÄ> –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê
‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ> –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê
‚îú‚îÄ‚îÄ *.py —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ> –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê
‚îú‚îÄ‚îÄ static/* —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ> –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê
‚îú‚îÄ‚îÄ .env —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ> –ü–ï–†–ï–ó–ê–ü–£–°–ö
‚îî‚îÄ‚îÄ *.md / docs/*
    ‚îî‚îÄ‚îÄ> –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø
```

### –¢–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

**1. –ü–û–õ–ù–ê–Ø –ü–ï–†–ï–°–ë–û–†–ö–ê (Rebuild)**
```bash
docker-compose down
docker rmi –æ–±—Ä–∞–∑
docker builder prune
docker-compose build --no-cache
docker-compose up -d
```

**2. –ü–ï–†–ï–ó–ê–ü–£–°–ö (Restart)**
```bash
docker-compose down
docker-compose up -d
```

**3. –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø**
```bash
# –¢–æ–ª—å–∫–æ pull –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ —Ç—Ä–æ–≥–∞–µ–º
git pull
```

---

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±—ã—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å GitHub

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/social_post_generator

# –ó–∞–ø—É—Å–∫–∞–µ–º —É–º–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./update.sh

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# 1. –°–æ–∑–¥–∞—Å—Ç backup
# 2. –ü–æ–ª—É—á–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ Git
# 3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç —Ç–∏–ø –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
# 4. –í—ã–ø–æ–ª–Ω–∏—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å
```

**–í—ã–≤–æ–¥:**
```
üöÄ Social Post Generator Updater
‚úÖ Backup —Å–æ–∑–¥–∞–Ω
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω—ã (3 –Ω–æ–≤—ã—Ö –∫–æ–º–º–∏—Ç–∞)
‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Python –∫–æ–¥–µ
‚ñ∂Ô∏è  –ü–û–õ–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï (Rebuild)
‚úÖ –û–±—Ä–∞–∑ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω
‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ .env

```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ .env —Ñ–∞–π–ª
nano .env

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./update.sh

# –°–∫—Ä–∏–ø—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —á—Ç–æ –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```

**–í—ã–≤–æ–¥:**
```
‚ñ∂Ô∏è  –ß–ê–°–¢–ò–ß–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï (Restart)
‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–∑–æ–º

```bash
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—É—é –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É
./docker-rebuild.sh

# –≠—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–Å –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç —Å –Ω—É–ª—è
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö):

1. ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω
2. ‚úÖ Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç
3. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö (–ø–µ—Ä–≤—ã–µ 50 —Å—Ç—Ä–æ–∫)

### –†—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏
docker-compose logs -f app

# Health check
curl http://localhost:8082/api/health

# –¢–µ—Å—Ç–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
curl -X POST http://localhost:8082/api/generate \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com","style":"–∏—Ä–æ–Ω–∏—á–Ω—ã–π"}'
```

---

## üîô –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç (update-smart.sh)

–ï—Å–ª–∏ health check –Ω–µ –ø—Ä–æ—à–µ–ª - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç.

### –†—É—á–Ω–æ–π –æ—Ç–∫–∞—Ç

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–∑ backup

```bash
# –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
ls -lt backups/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
tar -xzf backups/backup_YYYYMMDD_HHMMSS.tar.gz

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
docker-compose up -d
```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–∞—Ç Git –∫–æ–º–º–∏—Ç–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏
git log --oneline -10

# –û—Ç–∫–∞—Ç –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∫–æ–º–º–∏—Ç—É
git checkout <commit-hash>

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose build --no-cache
docker-compose up -d
```

#### –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –∫–æ–º–º–∏—Ç—É

```bash
# –û—Ç–∫–∞—Ç –Ω–∞ 1 –∫–æ–º–º–∏—Ç –Ω–∞–∑–∞–¥
git reset --hard HEAD~1

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
./docker-rebuild.sh
```

---

## üìä Backup –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ backup

–°–∫—Ä–∏–ø—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç backup:

```
backups/
‚îú‚îÄ‚îÄ backup_20251101_120000.env
‚îú‚îÄ‚îÄ backup_20251101_120000_logs.tar.gz
‚îú‚îÄ‚îÄ backup_20251101_150000.tar.gz
‚îî‚îÄ‚îÄ ...
```

### –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ backup

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ backup
BACKUP_NAME="backup_$(date +%Y%m%d_%H%M%S)"
tar -czf "backups/${BACKUP_NAME}.tar.gz" .env logs/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
tar -xzf "backups/${BACKUP_NAME}.tar.gz"
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup

–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç backup —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π.

–†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:
```bash
# –£–¥–∞–ª–∏—Ç—å backup —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
find backups/ -name "backup_*" -mtime +7 -delete

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ backup
rm -rf backups/*
```

---

## ‚öôÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### Cron (Linux)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é –Ω–æ—á—å:

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º crontab
crontab -e

# –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á—É (–∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3:00)
0 3 * * * cd /opt/social_post_generator && ./update-smart.sh >> /var/log/social-post-update.log 2>&1
```

### Systemd Timer (Linux, –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ cron)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã:

`/etc/systemd/system/social-post-update.service`:
```ini
[Unit]
Description=Update Social Post Generator
After=network.target docker.service

[Service]
Type=oneshot
WorkingDirectory=/opt/social_post_generator
ExecStart=/opt/social_post_generator/update-smart.sh
User=root
```

`/etc/systemd/system/social-post-update.timer`:
```ini
[Unit]
Description=Update Social Post Generator Timer

[Timer]
OnCalendar=daily
OnCalendar=03:00
Persistent=true

[Install]
WantedBy=timers.target
```

–ê–∫—Ç–∏–≤–∞—Ü–∏—è:
```bash
sudo systemctl enable social-post-update.timer
sudo systemctl start social-post-update.timer
sudo systemctl status social-post-update.timer
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ª–æ–≥–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é logs
sudo chown -R 1000:1000 logs
chmod -R 755 logs

# –ò–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º Dockerfile
./docker-rebuild.sh
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**Linux:**
```bash
# –°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x update.sh

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞
ls -l update.sh
```

**Windows:**
```bash
# –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é
update.bat
```

### –ü—Ä–æ–±–ª–µ–º–∞: Git –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ pull

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./update.sh

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
git stash pop
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞

```bash
# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -a --volumes

# –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup
rm -rf backups/*

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Å—Ç–∞
df -h
```

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ó–∞–ø—É—Å–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
./update.sh 2>&1 | tee logs/update_$(date +%Y%m%d_%H%M%S).log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
ls -lt logs/update_*.log

# –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
tail -f logs/update_*.log | head -100
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–∞:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `update-smart.sh`** - —Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —á–µ—Ä–µ–∑ cron –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏** –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
4. **–î–µ—Ä–∂–∏—Ç–µ backup** –º–∏–Ω–∏–º—É–º –∑–∞ –Ω–µ–¥–µ–ª—é
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –Ω–∞ staging –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–º

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `update.sh`** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `docker-rebuild.sh`** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
3. **–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ** `git pull && docker-compose up -d`

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ:

- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –µ—Å—Ç—å —Å–≤–µ–∂–∏–π backup
- [ ] –£–≤–µ–¥–æ–º–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è downtime)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ changelog
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞
- [ ] –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- [ ] –ò–º–µ–π—Ç–µ –ø–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è! üöÄ**

